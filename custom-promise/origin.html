<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>origin</title>
</head>
<body>
<!--<script src="MyPromise.js"></script>-->
<script>

  // console.log('test');
  // let promise = new MyPromise((resolve, reject) => {
  // let promise = new Promise((resolve, reject) => {
  // console.log('before reject');
  // reject(2)
  // console.log('before resolve');
  // return promise
  // resolve(3)
  // setTimeout(() => {
  //   // resolve(1)
  //   reject(1)
  //   console.log('test setTimeout');
  // }, 1000)
  // return new Promise((resolve, reject) => {
  // reject(2)
  // }).then(res => {
  //   console.log(res);
  //   return res
  // })
  // })
  //   .then(res => {
  //     console.log(res);
  //     return promise
  //     // return new Promise((resolve, reject) => {
  //     //   resolve(3)
  //     // })
  //   }, res => {
  //     console.log(res);
  //     return new Promise((resolve, reject) => {
  //       resolve(3)
  //     })
  //   })
  // .then(res => {
  //   console.log(res);
  // })

  // console.log(promise);
  // promise
  //   .then(
  //     res => {
  //       console.log(res);
  //       // return new MyPromise((resolve, reject) => {
  //       // return new Promise((resolve, reject) => {
  //       // return 1
  //       // resolve(1)
  //       //   // reject(1)
  //       // })
  //     },
  //     res => {
  //       console.log(res, 'reject');
  //       return 'reject'
  //     })
  // .then((res) => {
  //   console.log(res);
  // }, res => {
  //
  // })
  // .catch(err => {
  //   console.log(err);
  // })
  // .then((res) => {
  //   console.log(res);
  // })
  // .catch()

  // console.log('after then');

  // Promise.resolve(() => {
  // let p = new Promise((resolve, reject) => {
  //   reject(1)
  // })
  // Promise.reject(p)
  //   .then(res => {
  //     console.log(res);
  //   }, (res) => {
  //     console.log(res);
  //   })
  //   .then(res => {
  //     console.log(res);
  //   })
  let p = new Promise((resolve, reject) => {
    setTimeout(() => {
      // reject(2)
      resolve(2)
    }, 2000)
  })
  let p2 = new Promise((resolve, reject) => {
    reject(3)
    // resolve(3)
  })
  let p3 = Promise.resolve("hello")
  Promise.allSettled([p, p2]).then(res => {
    console.log(res);
  })
</script>
</body>
</html>
